// 2025년 6월, 9월 모의평가 수학 문제 데이터 (전체 버전)
export const mathProblems = [
    // ===========================================
    // 2025년 6월 모의평가 - 공통 과목 (1-15번 객관식)
    // ===========================================
    {
        id: 1,
        examMonthYear: '2025_06',
        problemNumber: 1,
        subject: '공통',
        subjectDetail: '지수법칙을 이용한 계산',
        difficultyGrade: 5,
        answer: '3',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_1번_공통.png',
        difficulty: 'easy',
        correctAnswer: '3'
    },
    {
        id: 2,
        examMonthYear: '2025_06',
        problemNumber: 2,
        subject: '공통',
        subjectDetail: '미분계수 정의를 이용한 값 계산',
        difficultyGrade: 5,
        answer: '2',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_2번_공통.png',
        difficulty: 'easy',
        correctAnswer: '2'
    },
    {
        id: 3,
        examMonthYear: '2025_06',
        problemNumber: 3,
        subject: '공통',
        subjectDetail: '삼각함수의 간단한 성질',
        difficultyGrade: 5,
        answer: '4',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_3번_공통.png',
        difficulty: 'easy',
        correctAnswer: '4'
    },
    {
        id: 4,
        examMonthYear: '2025_06',
        problemNumber: 4,
        subject: '공통',
        subjectDetail: '수열의 극한',
        difficultyGrade: 4,
        answer: '3',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_4번_공통.png',
        difficulty: 'easy',
        correctAnswer: '3'
    },
    {
        id: 5,
        examMonthYear: '2025_06',
        problemNumber: 5,
        subject: '공통',
        subjectDetail: '함수의 연속성',
        difficultyGrade: 4,
        answer: '2',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_5번_공통.png',
        difficulty: 'easy',
        correctAnswer: '2'
    },
    {
        id: 6,
        examMonthYear: '2025_06',
        problemNumber: 6,
        subject: '공통',
        subjectDetail: '등비수열의 합',
        difficultyGrade: 4,
        answer: '5',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_6번_공통.png',
        difficulty: 'easy',
        correctAnswer: '5'
    },
    {
        id: 7,
        examMonthYear: '2025_06',
        problemNumber: 7,
        subject: '공통',
        subjectDetail: '삼각함수의 그래프 및 주기',
        difficultyGrade: 4,
        answer: '1',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_7번_공통.png',
        difficulty: 'medium',
        correctAnswer: '1'
    },
    {
        id: 8,
        examMonthYear: '2025_06',
        problemNumber: 8,
        subject: '공통',
        subjectDetail: '정적분 계산',
        difficultyGrade: 4,
        answer: '1',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_8번_공통.png',
        difficulty: 'medium',
        correctAnswer: '1'
    },
    {
        id: 9,
        examMonthYear: '2025_06',
        problemNumber: 9,
        subject: '공통',
        subjectDetail: '등차수열의 합과 일반항',
        difficultyGrade: 3,
        answer: '5',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_9번_공통.png',
        difficulty: 'medium',
        correctAnswer: '5'
    },
    {
        id: 10,
        examMonthYear: '2025_06',
        problemNumber: 10,
        subject: '공통',
        subjectDetail: '삼차함수의 극대/극소와 그래프 개형 추론',
        difficultyGrade: 2,
        answer: '3',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_10번_공통.png',
        difficulty: 'hard',
        correctAnswer: '3'
    },
    {
        id: 11,
        examMonthYear: '2025_06',
        problemNumber: 11,
        subject: '공통',
        subjectDetail: '함수의 최댓값과 최솟값',
        difficultyGrade: 3,
        answer: '4',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_11번_공통.png',
        difficulty: 'medium',
        correctAnswer: '4'
    },
    {
        id: 12,
        examMonthYear: '2025_06',
        problemNumber: 12,
        subject: '공통',
        subjectDetail: '로그함수의 성질',
        difficultyGrade: 3,
        answer: '2',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_12번_공통.png',
        difficulty: 'medium',
        correctAnswer: '2'
    },
    {
        id: 13,
        examMonthYear: '2025_06',
        problemNumber: 13,
        subject: '공통',
        subjectDetail: '수열의 합의 성질',
        difficultyGrade: 2,
        answer: '3',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_13번_공통.png',
        difficulty: 'hard',
        correctAnswer: '3'
    },
    {
        id: 14,
        examMonthYear: '2025_06',
        problemNumber: 14,
        subject: '공통',
        subjectDetail: '미분 가능성 및 함수의 추론',
        difficultyGrade: 1,
        answer: '1',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_14번_공통.png',
        difficulty: 'hard',
        correctAnswer: '1'
    },
    {
        id: 15,
        examMonthYear: '2025_06',
        problemNumber: 15,
        subject: '공통',
        subjectDetail: '정적분과 급수의 관계',
        difficultyGrade: 1,
        answer: '5',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_15번_공통.png',
        difficulty: 'hard',
        correctAnswer: '5'
    },

    // ===========================================
    // 2025년 6월 모의평가 - 공통 과목 (16-22번 단답형)
    // ===========================================
    {
        id: 16,
        examMonthYear: '2025_06',
        problemNumber: 16,
        subject: '공통',
        subjectDetail: '지수방정식의 해',
        difficultyGrade: 4,
        answer: '8',
        type: 'SHORT_ANSWER',
        imagePath: '/math_image/단답형/2025_06_수학_16번_공통.png',
        difficulty: 'easy',
        correctAnswer: '8'
    },
    {
        id: 17,
        examMonthYear: '2025_06',
        problemNumber: 17,
        subject: '공통',
        subjectDetail: '삼각함수의 값',
        difficultyGrade: 4,
        answer: '12',
        type: 'SHORT_ANSWER',
        imagePath: '/math_image/단답형/2025_06_수학_17번_공통.png',
        difficulty: 'easy',
        correctAnswer: '12'
    },
    {
        id: 18,
        examMonthYear: '2025_06',
        problemNumber: 18,
        subject: '공통',
        subjectDetail: '수열의 일반항',
        difficultyGrade: 3,
        answer: '21',
        type: 'SHORT_ANSWER',
        imagePath: '/math_image/단답형/2025_06_수학_18번_공통.png',
        difficulty: 'medium',
        correctAnswer: '21'
    },
    {
        id: 19,
        examMonthYear: '2025_06',
        problemNumber: 19,
        subject: '공통',
        subjectDetail: '함수의 극한값',
        difficultyGrade: 3,
        answer: '15',
        type: 'SHORT_ANSWER',
        imagePath: '/math_image/단답형/2025_06_수학_19번_공통.png',
        difficulty: 'medium',
        correctAnswer: '15'
    },
    {
        id: 20,
        examMonthYear: '2025_06',
        problemNumber: 20,
        subject: '공통',
        subjectDetail: '정적분의 계산',
        difficultyGrade: 2,
        answer: '36',
        type: 'SHORT_ANSWER',
        imagePath: '/math_image/단답형/2025_06_수학_20번_공통.png',
        difficulty: 'hard',
        correctAnswer: '36'
    },
    {
        id: 21,
        examMonthYear: '2025_06',
        problemNumber: 21,
        subject: '공통',
        subjectDetail: '함수의 최댓값 구하기',
        difficultyGrade: 2,
        answer: '9',
        type: 'SHORT_ANSWER',
        imagePath: '/math_image/단답형/2025_06_수학_21번_공통.png',
        difficulty: 'hard',
        correctAnswer: '9'
    },
    {
        id: 22,
        examMonthYear: '2025_06',
        problemNumber: 22,
        subject: '공통',
        subjectDetail: '수열의 합과 극한',
        difficultyGrade: 1,
        answer: '168',
        type: 'SHORT_ANSWER',
        imagePath: '/math_image/단답형/2025_06_수학_22번_공통.png',
        difficulty: 'hard',
        correctAnswer: '168'
    },

    // ===========================================
    // 2025년 6월 모의평가 - 선택과목 (23-30번)
    // ===========================================
    // 미적분 문제들
    {
        id: 23,
        examMonthYear: '2025_06',
        problemNumber: 23,
        subject: '미적분',
        subjectDetail: '극한의 계산',
        difficultyGrade: 4,
        answer: '2',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_23번_미적분.png',
        difficulty: 'medium',
        correctAnswer: '2'
    },
    {
        id: 24,
        examMonthYear: '2025_06',
        problemNumber: 24,
        subject: '미적분',
        subjectDetail: '합성함수의 미분',
        difficultyGrade: 3,
        answer: '4',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_24번_미적분.png',
        difficulty: 'medium',
        correctAnswer: '4'
    },
    {
        id: 25,
        examMonthYear: '2025_06',
        problemNumber: 25,
        subject: '미적분',
        subjectDetail: '정적분과 넓이',
        difficultyGrade: 3,
        answer: '1',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_25번_미적분.png',
        difficulty: 'medium',
        correctAnswer: '1'
    },
    {
        id: 26,
        examMonthYear: '2025_06',
        problemNumber: 26,
        subject: '미적분',
        subjectDetail: '매개변수 방정식의 미분',
        difficultyGrade: 2,
        answer: '3',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_26번_미적분.png',
        difficulty: 'hard',
        correctAnswer: '3'
    },
    {
        id: 27,
        examMonthYear: '2025_06',
        problemNumber: 27,
        subject: '미적분',
        subjectDetail: '이계도함수와 극값',
        difficultyGrade: 2,
        answer: '5',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_27번_미적분.png',
        difficulty: 'hard',
        correctAnswer: '5'
    },
    {
        id: 28,
        examMonthYear: '2025_06',
        problemNumber: 28,
        subject: '미적분',
        subjectDetail: '속도와 가속도',
        difficultyGrade: 1,
        answer: '2',
        type: 'MULTIPLE_CHOICE',
        imagePath: '/math_image/객관식/2025_06_수학_28번_미적분.png',
        difficulty: 'hard',
        correctAnswer: '2'
    },
    {
        id: 29,
        examMonthYear: '2025_06',
        problemNumber: 29,
        subject: '미적분',
        subjectDetail: '정적분의 활용',
        difficultyGrade: 2,
        answer: '24',
        type: 'SHORT_ANSWER',
        imagePath: '/math_image/단답형/2025_06_수학_29번_미적분.png',
        difficulty: 'hard',
        correctAnswer: '24'
    },
    {
        id: 30,
        examMonthYear: '2025_06',
        problemNumber: 30,
        subject: '미적분',
        subjectDetail: '미분방정식과 실생활 문제',
        difficultyGrade: 1,
        answer: '45',
        type: 'SHORT_ANSWER',
        imagePath: '/math_image/단답형/2025_06_수학_30번_미적분.png',
        difficulty: 'hard',
        correctAnswer: '45'
    }
];

// 문제 유형별 분류
export const problemTypes = {
    MULTIPLE_CHOICE: '객관식',
    SHORT_ANSWER: '단답형'
};

// 난이도별 문제 필터링 함수
export const getProblemsByDifficulty = (difficulty) => {
    return mathProblems.filter(problem => problem.difficulty === difficulty);
};

// 과목별 문제 필터링 함수  
export const getProblemsBySubject = (subject) => {
    return mathProblems.filter(problem => problem.subject === subject);
};

// 시험 년월별 문제 필터링 함수
export const getProblemsByExam = (examMonthYear) => {
    return mathProblems.filter(problem => problem.examMonthYear === examMonthYear);
};

// 문제 유형별 필터링 함수
export const getProblemsByType = (type) => {
    return mathProblems.filter(problem => problem.type === type);
};

// 난이도 등급별 필터링 함수 (1-5등급)
export const getProblemsByDifficultyGrade = (grade) => {
    return mathProblems.filter(problem => problem.difficultyGrade === grade);
};

// 공통 과목 문제만 필터링 (1-22번)
export const getCommonProblems = () => {
    return mathProblems.filter(problem => problem.subject === '공통');
};

// 선택과목 문제만 필터링 (23-30번)
export const getElectiveProblems = () => {
    return mathProblems.filter(problem => problem.subject !== '공통');
};

// 평가용 문제 세트 생성 (쉬움 3개, 보통 4개, 어려움 3개)
export const generateEvaluationSet = () => {
    const easyProblems = getProblemsByDifficulty('easy');
    const mediumProblems = getProblemsByDifficulty('medium');
    const hardProblems = getProblemsByDifficulty('hard');
    
    // 랜덤 선택
    const selectedEasy = getRandomProblems(easyProblems, 3);
    const selectedMedium = getRandomProblems(mediumProblems, 4);
    const selectedHard = getRandomProblems(hardProblems, 3);
    
    // 합치고 섞기
    const allSelected = [...selectedEasy, ...selectedMedium, ...selectedHard];
    return shuffleArray(allSelected);
};

// 공통 과목만으로 평가 세트 생성
export const generateCommonEvaluationSet = () => {
    const commonProblems = getCommonProblems();
    const easyCommon = commonProblems.filter(p => p.difficulty === 'easy');
    const mediumCommon = commonProblems.filter(p => p.difficulty === 'medium');
    const hardCommon = commonProblems.filter(p => p.difficulty === 'hard');
    
    const selectedEasy = getRandomProblems(easyCommon, 3);
    const selectedMedium = getRandomProblems(mediumCommon, 4);
    const selectedHard = getRandomProblems(hardCommon, 3);
    
    const allSelected = [...selectedEasy, ...selectedMedium, ...selectedHard];
    return shuffleArray(allSelected);
};

// 특정 과목 평가 세트 생성
export const generateSubjectEvaluationSet = (subject, count = 10) => {
    const subjectProblems = getProblemsBySubject(subject);
    return getRandomProblems(subjectProblems, count);
};

// 랜덤 문제 선택 함수
const getRandomProblems = (problems, count) => {
    const shuffled = shuffleArray([...problems]);
    return shuffled.slice(0, Math.min(count, shuffled.length));
};

// 배열 섞기 함수
const shuffleArray = (array) => {
    const shuffled = [...array];
    for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    return shuffled;
};

// 통계 정보
export const getStatistics = () => {
    const total = mathProblems.length;
    const bySubject = {};
    const byType = {};
    const byDifficulty = {};
    const byExam = {};

    mathProblems.forEach(problem => {
        // 과목별 통계
        bySubject[problem.subject] = (bySubject[problem.subject] || 0) + 1;
        
        // 유형별 통계
        byType[problem.type] = (byType[problem.type] || 0) + 1;
        
        // 난이도별 통계
        byDifficulty[problem.difficulty] = (byDifficulty[problem.difficulty] || 0) + 1;
        
        // 시험별 통계
        byExam[problem.examMonthYear] = (byExam[problem.examMonthYear] || 0) + 1;
    });

    return {
        total,
        bySubject,
        byType,
        byDifficulty,
        byExam
    };
};

export default mathProblems;